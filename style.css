:root {
    --primary: #ff5f8f; 
    --secondary: #ff8fa3; 
    --glass: rgba(255, 255, 255, 0.9);
    --text: #4a4a4a; 
    --accent: #b23a5b;
}

* { 
    margin: 0; 
    padding: 0; 
    box-sizing: border-box; 
    font-family: 'Poppins', sans-serif; 
}

body { 
    height: 100vh; 
    background: radial-gradient(circle at center, #fff6f8 0%, #ffe4ea 100%); 
    overflow: hidden; 
    display: flex; 
    align-items: center; 
    justify-content: center; 
}

/* BACKGROUND & PARTICLES */
.bg { position: fixed; inset: 0; z-index: 0; }
.heart-bg { 
    position: absolute; 
    color: rgba(214, 79, 112, 0.2); 
    animation: float 12s linear infinite; 
    pointer-events: none; 
}

@keyframes float { 
    from { transform: translateY(110vh) rotate(0deg); } 
    to { transform: translateY(-10vh) rotate(360deg); } 
}

/* MUSIC DISK */
.music-control { position: fixed; bottom: 20px; right: 20px; z-index: 100; cursor: pointer; }
.disk { 
    width: 50px; 
    height: 50px; 
    background: url('https://cdn-icons-png.flaticon.com/512/1001/1001037.png') no-repeat center; 
    background-size: contain; 
    border-radius: 50%; 
    animation: rotateDisk 3s linear infinite; 
    box-shadow: 0 0 15px rgba(214, 79, 112, 0.3); 
}

@keyframes rotateDisk { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }

/* SCENE STRUCTURE */
.scene { 
    position: absolute; 
    z-index: 2; 
    width: 100%; 
    height: 100vh; 
    display: flex; 
    align-items: center; 
    justify-content: center; 
    transition: 0.8s ease-in-out; 
}

.card { 
    width: 90%; 
    max-width: 420px; 
    padding: 40px; 
    background: var(--glass); 
    backdrop-filter: blur(20px); 
    border-radius: 30px; 
    text-align: center; 
    box-shadow: 0 25px 50px rgba(214, 79, 112, 0.15); 
    border: 1px solid rgba(255, 255, 255, 0.4); 
}

.hidden { display: none; opacity: 0; pointer-events: none; }

/* ENVELOPE ANIMATION */
.envelope-wrapper { cursor: pointer; transition: 0.5s; position: relative; }
.envelope-wrapper:hover { transform: scale(1.05); }
.envelope-icon { font-size: 8rem; filter: drop-shadow(0 10px 20px rgba(0,0,0,0.1)); }

/* DIARY & COUNTDOWN */
.diary-card { 
    background: #fffcf2 !important; 
    background-image: linear-gradient(#e5e5e5 1px, transparent 1px) !important; 
    background-size: 100% 30px !important; 
    border-left: 35px solid #d64f70 !important; 
    padding: 40px 20px 40px 50px !important; 
    width: 95% !important; 
    max-width: 500px !important; 
    height: 85vh !important; 
    overflow-y: auto !important; 
    transform: rotate(-1deg); 
    text-align: left !important; 
}

.countdown-container { 
    background: rgba(255, 255, 255, 0.6); 
    padding: 10px; 
    border-radius: 10px; 
    margin-bottom: 20px; 
    border: 1px dashed var(--secondary); 
    text-align: center; 
}

#countdown { font-weight: 600; color: var(--accent); font-size: 0.9rem; }

/* BUTTONS & TYPING */
.unlock, .btn-yes { 
    margin-top: 20px; 
    padding: 14px 40px; 
    border: none; 
    border-radius: 50px; 
    font-weight: 600; 
    cursor: pointer; 
    transition: 0.3s; 
    background: linear-gradient(135deg, var(--primary), var(--secondary)); 
    color: white; 
    box-shadow: 0 10px 20px rgba(255, 95, 143, 0.3); 
}

.btn-no { padding: 14px 40px; border: none; border-radius: 50px; cursor: pointer; background: #eee; margin-left: 10px; }
#diary-memory, #love-letter { font-family: 'Dancing Script', cursive; font-size: 1.5rem; line-height: 30px; color: #333; }

/* FINAL SCENE */
.final-msg { 
    font-family: 'Dancing Script', cursive; 
    font-size: 2.8rem; 
    color: var(--accent); 
    animation: heartbeat 1.5s infinite; 
}

@keyframes heartbeat {
    0% { transform: scale(1); }
    50% { transform: scale(1.1); }
    100% { transform: scale(1); }
}